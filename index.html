<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ëœë¤ ëª…ì‚¬ ìƒì„±ê¸°</title>
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: #f0f2f5;
            font-family: sans-serif;
        }
        .container {
            text-align: center;
            background: white;
            padding: 2rem;
            border-radius: 20px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            max-width: 80%;
        }
        #word-display {
            font-size: 2rem;
            font-weight: bold;
            margin: 20px 0;
            min-height: 60px;
            color: #333;
            word-break: break-all; /* ì—ëŸ¬ ë©”ì‹œì§€ ê¸¸ ë•Œ ì¤„ë°”ê¿ˆ */
        }
        button {
            padding: 15px 30px;
            font-size: 1.2rem;
            cursor: pointer;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 50px;
        }
        button:disabled { background-color: #ccc; }
    </style>
</head>
<body>

    <div class="container">
        <h1>ì˜¤ëŠ˜ì˜ ëœë¤ ë‹¨ì–´</h1>
        <div id="word-display">Ready?</div>
        <button id="generate-btn">ë‹¨ì–´ ë½‘ê¸°</button>
    </div>

    <script type="importmap">
      {
        "imports": {
          "@google/generative-ai": "https://esm.run/@google/generative-ai"
        }
      }
    </script>

    <script type="module">
      import { GoogleGenerativeAI, HarmCategory, HarmBlockThreshold } from "@google/generative-ai";

      // ğŸ‘‡ ì—¬ê¸°ì— ë³¸ì¸ì˜ API í‚¤ë¥¼ ì •í™•íˆ ë„£ì–´ì£¼ì„¸ìš”! (ë”°ì˜´í‘œ ì§€ìš°ì§€ ë§ˆì„¸ìš”)
      const API_KEY = "AIzaSyD9Ad0Ba0rOMlEPfbbMboEQhbWy65JPi68"; 

      const genAI = new GoogleGenerativeAI(API_KEY);
      
      // ì•ˆì „ ì„¤ì •: í•„í„°ë¥¼ ë„ëŠ” ì„¤ì • (BLOCK_NONE)
      const safetySettings = [
        { category: HarmCategory.HARM_CATEGORY_HARASSMENT, threshold: HarmBlockThreshold.BLOCK_NONE },
        { category: HarmCategory.HARM_CATEGORY_HATE_SPEECH, threshold: HarmBlockThreshold.BLOCK_NONE },
        { category: HarmCategory.HARM_CATEGORY_SEXUALLY_EXPLICIT, threshold: HarmBlockThreshold.BLOCK_NONE },
        { category: HarmCategory.HARM_CATEGORY_DANGEROUS_CONTENT, threshold: HarmBlockThreshold.BLOCK_NONE },
      ];

      const model = genAI.getGenerativeModel({ 
          model: "gemini-1.5-flash",
          safetySettings: safetySettings
      });

      const btn = document.getElementById('generate-btn');
      const display = document.getElementById('word-display');

      btn.addEventListener('click', async () => {
          display.innerText = "ìƒì„± ì¤‘...";
          btn.disabled = true;

          try {
              if (API_KEY.includes("ì—¬ê¸°ì—")) {
                  throw new Error("API í‚¤ë¥¼ ì…ë ¥í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤!");
              }

              const prompt = "í•œêµ­ì–´ ëª…ì‚¬ 1ê°œë¥¼ ì•„ì£¼ ëœë¤í•˜ê²Œ ì¶”ì²œí•´ì¤˜. ë¶€ê°€ì ì¸ ì„¤ëª… ì—†ì´ ë”± 'ë‹¨ì–´'ë§Œ ì¶œë ¥í•´.";
              const result = await model.generateContent(prompt);
              const response = await result.response;
              const text = response.text();
              
              display.innerText = text;
          } catch (error) {
              console.error(error);
              // ğŸ‘‡ ì´ì œ í™”ë©´ì— êµ¬ì²´ì ì¸ ì—ëŸ¬ ë‚´ìš©ì„ ë³´ì—¬ì¤ë‹ˆë‹¤
              display.innerText = "ì˜¤ë¥˜: " + error.message; 
              display.style.fontSize = "1rem"; // ì—ëŸ¬ ë©”ì‹œì§€ëŠ” ì‘ê²Œ
              display.style.color = "red";
          } finally {
              btn.disabled = false;
          }
      });
    </script>
</body>
</html>
